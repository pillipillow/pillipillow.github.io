<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AR Project - Ainul Dania | Game Programmer</title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <section class="portfolio-page">
        <div class="container">
            <div class="left-col">
              <div class="slider" id="slider">
                <div class="wrapper">
                    <div class="items" id="items">
                       
                        <div class="slide" id="slide"><img src="/media/bridge-2.gif"></div>
                        <div class="slide" id="slide"><img src="/media/bridge-3.gif"></div>
                        <div class="slide" id="slide"><img src="/media/bridge-4.gif"></div>
                        <div class="slide" id="slide"><img src="/media/bridge-1.jpg"></div>
                    </div>
                    <a id="prev" class="prev">&#10094;</a>
                    <a id="next" class="next">&#10095;</a>
                </div>
                
              </div>
            </div>

            <div class="right-col">
                <h2>Title (Year)</h2>
                <p>
                    Bridge Fortress is a 3D isometric puzzle game where the player plays as the Squire and an AI controlled Knight, who has been separated on two levels in a dungeon full of traps. 
                    The Squire is placed on the top level where she controls the cranks to turn bridges for the Knight to move around, while the Knight placed at the bottom level where it’s filled 
                    with traps and enemies. Players need to turn the cranks at the right time for the Knight to walk to the next platform without being in danger. They can use it as an advantage to 
                    the enemies to their own traps. Players also equipped with a shield and a smoke bomb; the shield can be thrown a square floor on the Knight’s level that he can grab for protecting 
                    from arrow traps, or protecting him from the spiked floors for the him to crossover. The smoke bomb is used to destroy light insects and reveal phantom enemies that are invisible from 
                    the Knight’s attack.
                </p>
                <p></p><b>Role:</b> Gameplay Programmer, UI Programmer, UI Artist, VFX Programmer</p>
                <p><b>For:</b> Year 2 – Game Project Studio 2 (Bachelor Degree of Game Development, KDU University)</p>
                <p><b>Platform:</b>  Android Mobile and Tablet</p>
                <p><b>Engine:</b> Unity 3D (C#)</p>
                <p><b>What I’ve worked on:</b></p>
                <ul>
                    <li>Player movement based on navmesh and moved by touch input</li>
                    <li>VFX particles for fire traps that can be activate/deactivate with switches for level puzzle environment.</li>
                    <li>User Interface for the Main Menu, Level Menu, Pause Menu and Star Ranking</li>
                </ul>
               
            </div>
        </div>
    </section>

    <script>

var slider = document.getElementById('slider'),
    sliderItems = document.getElementById('items'),
    prev = document.getElementById('prev'),
    next = document.getElementById('next');

slide(slider, sliderItems, prev, next);

function slide(wrapper, items, prev, next) {
  var posX1 = 0,
      posX2 = 0,
      posInitial,
      posFinal,
      threshold = 100,
      slides = items.getElementsByClassName('slide'),
      slidesLength = slides.length,
      slideSize = items.getElementsByClassName('slide')[0].offsetWidth,
      firstSlide = slides[0],
      lastSlide = slides[slidesLength - 1],
      cloneFirst = firstSlide.cloneNode(true),
      cloneLast = lastSlide.cloneNode(true),
      index = 0,
      allowShift = true;
  
  // Clone first and last slide
  items.appendChild(cloneFirst);
  items.insertBefore(cloneLast, firstSlide);
  wrapper.classList.add('loaded');
  
  // Mouse and Touch events
  items.onmousedown = dragStart;
  
  // Touch events
  items.addEventListener('touchstart', dragStart);
  items.addEventListener('touchend', dragEnd);
  items.addEventListener('touchmove', dragAction);
  
  // Click events
  prev.addEventListener('click', function () { shiftSlide(-1) });
  next.addEventListener('click', function () { shiftSlide(1) });
  
  // Transition events
  items.addEventListener('transitionend', checkIndex);
  
  function dragStart (e) {
    e = e || window.event;
    e.preventDefault();
    posInitial = items.offsetLeft;
    
    if (e.type == 'touchstart') {
      posX1 = e.touches[0].clientX;
    } else {
      posX1 = e.clientX;
      document.onmouseup = dragEnd;
      document.onmousemove = dragAction;
    }
  }

  function dragAction (e) {
    e = e || window.event;
    
    if (e.type == 'touchmove') {
      posX2 = posX1 - e.touches[0].clientX;
      posX1 = e.touches[0].clientX;
    } else {
      posX2 = posX1 - e.clientX;
      posX1 = e.clientX;
    }
    items.style.left = (items.offsetLeft - posX2) + "px";
  }
  
  function dragEnd (e) {
    posFinal = items.offsetLeft;
    if (posFinal - posInitial < -threshold) {
      shiftSlide(1, 'drag');
    } else if (posFinal - posInitial > threshold) {
      shiftSlide(-1, 'drag');
    } else {
      items.style.left = (posInitial) + "px";
    }

    document.onmouseup = null;
    document.onmousemove = null;
  }
  
  function shiftSlide(dir, action) {
    items.classList.add('shifting');
    
    if (allowShift) {
      if (!action) { posInitial = items.offsetLeft; }

      if (dir == 1) {
        items.style.left = (posInitial - slideSize) + "px";
        index++;      
      } else if (dir == -1) {
        items.style.left = (posInitial + slideSize) + "px";
        index--;      
      }
    };
    
    allowShift = false;
  }
    
  function checkIndex (){
    items.classList.remove('shifting');

    if (index == -1) {
      items.style.left = -(slidesLength * slideSize) + "px";
      index = slidesLength - 1;
    }

    if (index == slidesLength) {
      items.style.left = -(1 * slideSize) + "px";
      index = 0;
    }
    
    allowShift = true;
  }
}

    </script>
</body>
</html>